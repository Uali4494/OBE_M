<div class="modal-section" style="position: initial;overflow-y:hidden">
  <div class="modal fade modal-lg margin-t41" id="Complied-Result" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <div class="section-heading">
            <h2 class="pull-left">Course Compiled Results</h2>
            <div class="pull-right">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i class="app-icon-IconSet-1-12"></i></button>
            </div>
            <div class="clearfix"></div>
          </div>
        </div>
        <div class="modal-body">
          <div class="table-responsive" style="max-height: 55vh; overflow-y: auto;">
            <table class="table table-hover table-theme">
              <thead>
                <tr *ngIf="CourseCategory==1 || CourseCategory==4">
                  <th>Sr. #</th>
                  <th>Name / Enrollment</th>
                  <th *ngIf="CourseCategory==1">Assignments</th>
                  <th *ngIf="CourseCategory==4">Assessment</th>
                  <th *ngIf="CourseCategory==1">Quizzes</th>
                  <th *ngIf="CourseCategory==4">Journals</th>
                  <th>Mids</th>
                  <th>Finals</th>
                  <th>Total</th>
                  <th>Grade</th>
                  <th>Course CLOs</th>
                  <th>CLOs %</th>
                </tr>
                <tr *ngIf="CourseCategory==8">
                  <th>Sr. #</th>
                  <th>Name / Enrollment</th>
                  <th>FYP Coordinator</th>
                  <th>FYP Supervisor</th>
                  <th>Initial Presentation</th>
                  <th>Mid-Term Presentation</th>
                  <th>Final Presentation</th>
                  <th>Total</th>
                  <th>Grade</th>
                  <th>Course CLOs</th>
                  <th>CLOs %</th>
                </tr>
              </thead>
              <tbody *ngIf="CourseCategory!=8">
                <ng-container *ngFor="let i of All_student_Result; let idx=index">
                  <tr [ngClass]="[(i.Grade =='F')?'tr-danger':'', (i.Grade !='F')?'tr-success':'']">
                    <td align="center">{{idx+1}}</td>
                    <td><b class="blue"><span [innerHTML]="i.Name | highlight:query"></span></b><p><span [innerHTML]="i.Enrollment | highlight:query"></span></p></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Assignmnet_Marks | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Quiz_Marks | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Mid_Marks | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Final_Marks | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Total | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Grade | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Clo_Name | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Clo_Result | highlight:query"></span></b></a></td>
                  </tr>
                </ng-container>
              </tbody>
              <tbody *ngIf="CourseCategory==8">
                <ng-container *ngFor="let i of All_student_Result; let idx=index">
                  <tr [ngClass]="[(i.Grade =='F')?'tr-danger':'', (i.Grade !='F')?'tr-success':'']">
                    <td align="center">{{idx+1}}</td>
                    <td><b class="blue"><span [innerHTML]="i.Name | highlight:query"></span></b><p><span [innerHTML]="i.Enrollment | highlight:query"></span></p></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.FYPCoordinatorObtainedMarks | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.FYPSupervisorObtainedMarks | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.InitialPresentationObtainedMarks | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.MidTermPresentationObtainedMarks | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.FinalPresentationObtainedMarks | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Total | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Grade | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Clo_Name | highlight:query"></span></b></a></td>
                    <td align="center"><a href="javascript:void(0)"><b class="blue"><span [innerHTML]="i.Clo_Result | highlight:query"></span></b></a></td>
                  </tr>
                </ng-container>

              </tbody>
            </table>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>
  </div>
</div>
<div role="tabpanel" class="tab-pane active">
  <div class="section-heading padding-b5">
    <h2>All Offered Courses</h2>
  </div>
  <div class="margin-b15">
    <div class="row">
      <div class="col-sm-8">
        <fieldset class="padding-b5">
          <legend>Criteria</legend>
          <div class="row">
            <div class="form-group col-sm-2">
              <label class="control-label">Select Institute <span class="text-danger">*</span></label>
              <select class="form-control" (change)="Get_Department($event.target.value)" [ngModel]="Temp_Institute_ID" [attr.disabled]="Temp_Institute_ID != 0  ? 'disabled' : null">
                <option value="0">Select Institute</option>
                <option value="{{i.InstituteID}}" *ngFor="let i of Institutes">{{i.InstituteShortName}}</option>
              </select>
            </div>
            <div class="form-group col-sm-2">
              <label class="control-label">Select Department <span class="text-danger">*</span></label>
              <select class="form-control" (change)="Enable_Semester($event.target.value)" id="DepartmentID" [ngModel]="Temp_Deaprtment_ID" [attr.disabled]="Temp_Deaprtment_ID != 0  ? 'disabled' : null">
                <option value="0">Select Deparment</option>
                <option value="{{i.DepartmentID}}" *ngFor="let i of Department">{{i.DepartmentName}}</option>
              </select>
            </div>
            <div class="form-group col-sm-2">
              <label class="control-label">Select Semester <span class="text-danger">*</span></label>
              <select class="form-control" id="SemesterID" [attr.disabled]="!Is_Deparment_Selected === true  ? 'disabled' : null">
                <option value="0">Select Semester</option>
                <option value="{{i.SemesterID}}" *ngFor="let i of All_Semester">{{i.semesterAlia}}</option>
              </select>
            </div>
            <div class="form-group col-sm-2">
              <label class="control-label">Select Marks Status <span class="text-danger">*</span></label>
              <select class="form-control" id="Status">
                <option value="10" selected>ALL</option>
                <option value="1">Submitted</option>
                <option value="0">Not Submitted</option>
              </select>
            </div>
            <div class="col-sm-1 margin-t17">
              <button class="btn btn-info" (click)="Get_Marks_Status()">Search</button>
            </div>

          </div>
        </fieldset>
      </div>
      <div class="col-sm-4">
        <fieldset class="margin-b15">
          <legend>Summary</legend>
          <div class="table-responsive">
            <table class="table table-hover table-simple table-pl">
              <tbody>
                <tr>
                  <td><b>Total Number of offered courses</b></td>
                  <td align="right">{{Total_Number_Of_Offered_Courses}}</td>
                </tr>
                <tr>
                  <td><b>All courses with status (Submitted Marks) </b></td>
                  <td align="right">{{Marks_Submitted_Number_Of_Offered_Courses}}</td>
                </tr>
                <tr>
                  <td><b>All courses with status (Not Submitted Marks)</b></td>
                  <td align="right">{{Not_Marks_Submitted_Number_Of_Offered_Courses}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </fieldset>
      </div>
    </div>
  </div>
  <div class="section-heading">
    <h2>All Offered Courses</h2>
  </div>
  <div class="margin-b5">
    <div class="pull-left">
      <div class="has-feedback pull-left">
        <input type="text" class="form-control width-200" placeholder="Search Records" [(ngModel)]="query">
        <span class="form-control-feedback"><i class="app-icon-IconSet-1-92"></i></span>
      </div>
      <div class="pull-left margin-l5">
        <div class="form-inline">
          <div class="form-group margin-r10" style="width:110%">
            <label class="control-label margin-r10">Show</label>
            <select class="form-control input-xs margin-r5" (change)="setPage(1,pagesize)" [(ngModel)]="pagesize" style="width: 30%;">
              <option>10</option>
              <option>20</option>
              <option>30</option>
              <option>50</option>
              <option>100</option>
            </select>
            <label class="control-label">Per Page</label>
          </div>
        </div>
      </div>
      <div class="pull-left margin-t5 margin-l10">
        <label class="text-success"><i class="fa fa-stop"></i><span class="color-black">   Marks Submitted</span> </label>
      </div>
      <div class="pull-left margin-t5 margin-l10">
        <label class="text-danger"><i class="fa fa-stop"></i><span class="color-black">    Marks Not Submitted</span> </label>
      </div>
    </div>
    <div class="pull-right">
      <div class="btn-group left-dropdown">
        <button class="btn btn-default btn-sm dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Export <span class="caret"></span> </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
          <li><a (click)="DownloadExcel()">Excel</a></li>
        </ul>
      </div>
    </div>
    <div class="clearfix"></div>
  </div>
  <hr>
</div>
<div class="table-responsive" style=" height: 50vh; overflow-y: scroll;">
  <table class="table table-hover table-theme margin-b15">
    <thead>
      <tr>
        <th align="center" width="5%">Sr.#</th>
        <th align="center" width="50%">Faculty / Course</th>
        <th align="center" width="10%" style="z-index:1">Course Category</th>
        <th align="center" width="10%" style="z-index:1">Assigned To</th>
        <th align="center" width="10%" style="z-index:1">Marks Status</th>
        <th align="center" width="6%" style="z-index:1">Marks Details</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let i of All_Offered_Courses  | filter:query; let ind=index">
        <tr [ngClass]="(i.Is_Completed==true)?'tr-success':'tr-danger'" [style.background-color]="i.Name=='Not Assigned'? '#ff00003d' : null">
          <td align="center">{{i.SrNumber}}</td>
          <td>
            <b class="blue"><span [innerHTML]="i.Title | highlight:query"></span></b>
            <p class="text-danger" *ngIf="i.Name=='Not Assigned'"><span [innerHTML]="i.Name| highlight:query"></span></p>
            <p *ngIf="i.Name!='Not Assigned'"><span [innerHTML]="i.Name| highlight:query"></span> | <span [innerHTML]="i.UserName| highlight:query"></span></p>
          </td>
          <td>
              <div class="custom-dropdown">
                <select class="form-control" [(ngModel)]="i.courseCategory" (change)="onCourseCategoryChange(i.OfferedCourseID,$event.target.value)">
                  <option value="1" selected>Course</option>
                  <option value="4">Lab</option>
                  <option value="8">FYP</option>
                </select>
              </div>
          </td>
          <td>
            <div class="has-feedback">
              <input type="search" placeholder="Search Faculty" class="form-control width-100p" [(ngModel)]="i.UserName" name="UserName">
              <ng-container *ngIf="this.Searched_Facult_Members?.length > 0 && this.selectedIndex === ind">
                  <div class="custom-dropdown">
                    <select class="form-control" (change)="updateFacultyAssigned($event.target.value, i.OfferedCourseID)">
                      <option value="{{faculty.FacultyMemberID}}" *ngFor="let faculty of Searched_Facult_Members">
                        {{faculty.FacultyMemberID}} | {{faculty.username}}
                      </option>
                    </select>
                  </div>
              </ng-container>
              <span class="form-control-feedback" (click)="getFacultyMember(i.UserName, ind)"><i class="glyphicon glyphicon-search"></i></span> </div>
          </td>
          <td>
            <ng-container *ngIf="i.Is_Completed">
              <div class="custom-dropdown">
                <select class="form-control" (change)="onStatusChange(i.OfferedCourseID,i.courseCategory,$event.target.value)">
                  <option value="1" selected>Submitted</option>
                  <option value="0">Not Submitted</option>
                </select>
              </div>
            </ng-container>
            <ng-container *ngIf="!i.Is_Completed">
              <div class="custom-dropdown">
                <select class="form-control" (change)="onStatusChange(i.OfferedCourseID,i.courseCategory,$event.target.value)">
                  <option value="1">Submitted</option>
                  <option value="0" selected>Not Submitted</option>
                </select>
              </div>
            </ng-container>

          </td>
          <td align="center">
            <div class="btn-group">
              <button type="button" title="View Compiled Result" (click)="Get_All_Student_And_Grades(i.OfferedCourseID,i.courseCategory)" class="btn btn-default margin-r5 cr-pointer">
                <i class="fa fa-eye f12 blue"></i>
              </button>
            </div>
          </td>
        </tr>
      </ng-container>

    </tbody>
  </table>
</div>
<div class="pagination-bottom">
  <div class="pull-left">
    <div class="form-inline">
      <div class="form-group" *ngIf="All_Offered_Courses==null || All_Offered_Courses?.length == 0">
        <label class="control-label padding-t5">Showing 0 to 0 of 0 entries</label>
      </div>
      <div class="form-group" *ngIf="All_Offered_Courses?.length >=1">
        <label class="control-label padding-t5">Showing {{pager?.startIndex+1}} to {{pager?.endIndex+1}} of {{pager?.totalItems}} entries</label>
      </div>
    </div>
  </div>
  <div class="form-inline pull-right margin-b5">
    <div class="table-pagination pull-right" *ngIf="pager?.pages && pager?.pages.length">
      <button data-original-title="First Page" title="" class="btn btn-default" [ngClass]="{disabled:pager?.currentPage === 1}" (click)="setPage(1,pagesize)" [disabled]="pager?.currentPage === 1"><i class="fa fa-backward"></i></button>
      <button data-original-title="Previous" title="" class="btn btn-default" [ngClass]="{disabled:pager?.currentPage === 1}" (click)="setPage(pager?.currentPage - 1,pagesize)" [disabled]="pager?.currentPage === 1"><i class="fa fa-caret-left"></i></button>
      <input type="text" style="width:50px;" value="1" class="form-control" [(ngModel)]="page" (keyup)="setPage(page)" (keypress)="keyRestrict($event,'0123456789')" disabled>
      <label class="control-label">of  {{pager?.totalPages}}</label>
      <button data-original-title="Next" title="" class="btn btn-default" [ngClass]="{disabled:pager?.currentPage === pager?.totalPages}" (click)="setPage(pager?.currentPage + 1,pagesize)" [disabled]="pager?.currentPage == pager?.totalPages"><i class="fa fa-caret-right"></i></button>
      <button data-original-title="Last" title="" class="btn btn-default" [ngClass]="{disabled:pager?.currentPage === pager?.totalPages}" (click)="setPage(pager?.totalPages,pagesize)" [disabled]="pager?.currentPage == pager?.totalPages"><i class="fa fa-forward"></i></button>
    </div>
  </div>
  <div class="clearfix"></div>
</div>
